<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head">
</head>
<body>
<nav th:replace="fragments/navbar :: navbar"></nav>
<div class="container">
    <h1>Add a Food Consumption Log</h1>
    <form th:action="@{/food-log/consumption}" method="post">
        <input th:if="${@environment.getActiveProfiles()[0] != 'dev'}" type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <div class="form-group">
            <input type="text" class="form-control" th:field="${consumption.date}" placeholder="Date" />
            <p class="error" th:if="${#fields.hasErrors('consumption.date')}" th:errors="${consumption.date}"></p>
        </div>
        <div class="form-group">
            <input type="text" class="form-control" th:field="${consumption.recipeTitle}" placeholder="Recipe Title" />
            <p class="error" th:if="${#fields.hasErrors('consumption.recipeTitle')}" th:errors="${consumption.recipeTitle}"></p>
        </div>
        <div class="form-group">
            <input type="text" class="form-control" th:field="${consumption.recipeUri}" placeholder="Recipe URI - BookTitlePageNumber OR URL" />
            <p class="error" th:if="${#fields.hasErrors('consumption.recipeUri')}" th:errors="${consumption.recipeUri}"></p>
        </div>

        <div class="form-group">
            <select class="form-control" th:field="${consumption.meal}">
                <option th:each="meal: ${meals}" th:value="${meal}" th:text="${meal}"></option>
            </select>
            <p class="error" th:if="${#fields.hasErrors('consumption.meal')}" th:errors="${consumption.meal}"></p>
        </div>
        <div class="form-group">
            <button class="btn btn-secondary" type="submit">Submit</button>
        </div>
    </form>

</div>

</body>
</html>